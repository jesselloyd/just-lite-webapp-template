function config(n,e){n.when("/",{templateUrl:"views/home.html",resolve:{}}).when("/login",{templateUrl:"views/login.html",resolve:{}}).otherwise({redirectTo:"/"}),e.html5Mode({enabled:!0,requireBase:!1})}function ApplicationController(n,e){var o=this;o.sendRequest=function(){n.get("/test").then(function(n){o.testRequest=n.data})},o.requestService=function(){return n.get("/test")},o.modalShown=!1,o.toggleModal=function(){o.modalShown=!o.modalShown},o.errorModalShown=!1,o.toggleErrorModal=function(){o.errorModalShown=!o.errorModalShown},o.sendError=function(){return e(function(n,e){var o={message:"Error! You did something that won't work. Try again, or contact someone!"};e(o)})}}function Modal(n,e){return{restrict:"EA",templateUrl:"views/templates/modal.html",scope:{title:"@",action:"&",actionText:"@",show:"="},transclude:!0,link:function(o,t,r){function i(){o.clearBindings=function(){},o.error=!1,o.fadeIn=!0,e(function(){o.fadeIn=!1},100)}i(),o.close=function(){return n(function(n,t){o.clearBindings(),o.error=!1,o.fadeOut=!0,e(function(){o.show=!1,o.fadeOut=!1},100)})},o.submit=function(){if(o.error=!1,o.errorMessage=null,"function"==typeof o.action&&"action"in r){var n=o.action();n&&"function"==typeof n.then?n.then(function(n){n.clearBindings?o.clearBindings=n.clearBindings:o.clearBindings=null,o.close()},function(n){res.clearBindings?o.clearBindings=res.clearBindings:o.clearBindings=null,o.errorFlash=!0,e(function(){o.errorFlash=!1,o.error=!0,o.errorMessage=n.message},200)}):o.close()}else o.close()}}}}function AuthenticationInterceptor(n){return{request:function(e){var o=n.localStorage.token;return o&&(e.headers["x-access-token"]=o),e}}}config.$inject=["$routeProvider","$locationProvider"],angular.module("App",["ngRoute"]),angular.module("App").config(config),angular.module("App").controller("ApplicationController",["$http","$q",ApplicationController]),angular.module("App").directive("modal",["$q","$timeout",Modal]),angular.module("App").factory("AuthenticationInterceptor",["$window",AuthenticationInterceptor]),angular.module("App").config(["$httpProvider",function(n){n.interceptors.push("AuthenticationInterceptor")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyIsImNvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzL21vZGFsLmpzIiwic2VydmljZXMvYXV0aGVudGljYXRpb24taW50ZXJjZXB0b3IuanMiLCJhcHAubWluLmpzIiwibW9kdWxlLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsImVuYWJsZWQiLCJyZXF1aXJlQmFzZSIsIkFwcGxpY2F0aW9uQ29udHJvbGxlciIsIiRodHRwIiwiJHEiLCJfdGhpcyIsInRoaXMiLCJzZW5kUmVxdWVzdCIsImdldCIsInRoZW4iLCJyZXMiLCJ0ZXN0UmVxdWVzdCIsImRhdGEiLCJyZXF1ZXN0U2VydmljZSIsIm1vZGFsU2hvd24iLCJ0b2dnbGVNb2RhbCIsImVycm9yTW9kYWxTaG93biIsInRvZ2dsZUVycm9yTW9kYWwiLCJzZW5kRXJyb3IiLCJyZWplY3QiLCJlcnJvciIsIm1lc3NhZ2UiLCJNb2RhbCIsIiR0aW1lb3V0IiwicmVzdHJpY3QiLCJzY29wZSIsInRpdGxlIiwiYWN0aW9uIiwiYWN0aW9uVGV4dCIsInNob3ciLCJ0cmFuc2NsdWRlIiwibGluayIsImVsZW0iLCJhdHRycyIsImluaXQiLCJjbGVhckJpbmRpbmdzIiwiZmFkZUluIiwiY2xvc2UiLCJmYWRlT3V0Iiwic3VibWl0IiwiZXJyb3JNZXNzYWdlIiwicHJvbWlzZSIsImVyciIsImVycm9yRmxhc2giLCJBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yIiwiJHdpbmRvdyIsInJlcXVlc3QiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImhlYWRlcnMiLCIkaW5qZWN0IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCJkaXJlY3RpdmUiLCJmYWN0b3J5IiwiJGh0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IGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvaG9tZS5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgfSk7XG5cbiAgICAvLyB1c2UgdGhlIEhUTUw1IEhpc3RvcnkgQVBJXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZnVuY3Rpb24gQXBwbGljYXRpb25Db250cm9sbGVyKCRodHRwLCAkcSkge1xuXHR2YXIgX3RoaXMgPSB0aGlzOyBcblxuXHRfdGhpcy5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRodHRwLmdldCgnL3Rlc3QnKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0X3RoaXMudGVzdFJlcXVlc3QgPSByZXMuZGF0YTtcblx0XHR9KTtcblx0fTtcblxuXHRfdGhpcy5yZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy90ZXN0Jyk7XG5cdH07XG5cblx0X3RoaXMubW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLm1vZGFsU2hvd24gPSAhX3RoaXMubW9kYWxTaG93bjtcblx0fTtcblxuXHRfdGhpcy5lcnJvck1vZGFsU2hvd24gPSBmYWxzZTtcblx0X3RoaXMudG9nZ2xlRXJyb3JNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLmVycm9yTW9kYWxTaG93biA9ICFfdGhpcy5lcnJvck1vZGFsU2hvd247XG5cdH07XG5cblx0X3RoaXMuc2VuZEVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0dmFyIGVycm9yID0ge1xuXHRcdFx0XHRtZXNzYWdlOiBcIkVycm9yISBZb3UgZGlkIHNvbWV0aGluZyB0aGF0IHdvbid0IHdvcmsuIFRyeSBhZ2Fpbiwgb3IgY29udGFjdCBzb21lb25lIVwiXG5cdFx0XHR9O1xuXHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHR9KTtcblx0fTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25Db250cm9sbGVyJywgWyckaHR0cCcsICckcScsIEFwcGxpY2F0aW9uQ29udHJvbGxlcl0pOyIsImZ1bmN0aW9uIE1vZGFsKCRxLCAkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3RlbXBsYXRlcy9tb2RhbC5odG1sJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnQCcsXG4gICAgICAgICAgICBhY3Rpb246ICcmJyxcbiAgICAgICAgICAgIGFjdGlvblRleHQ6ICdAJyxcbiAgICAgICAgICAgIHNob3c6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVJbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVJbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluaXQoKTtcblxuICAgICAgICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZU91dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZU91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvck1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuYWN0aW9uID09PSAnZnVuY3Rpb24nICYmICdhY3Rpb24nIGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gc2NvcGUuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNsZWFyQmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IHJlcy5jbGVhckJpbmRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jbGVhckJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSByZXMuY2xlYXJCaW5kaW5ncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yRmxhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckZsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuICAgIC5kaXJlY3RpdmUoJ21vZGFsJywgWyckcScsICckdGltZW91dCcsIE1vZGFsXSk7XG4iLCJmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuO1xuICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJykuZmFjdG9yeSgnQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcicsIFsnJHdpbmRvdycsIEF1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3JdKTtcbmFuZ3VsYXIubW9kdWxlKCdBcHAnKS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3InKTtcbn1dKTtcbiIsIlxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiLCBcIiRsb2NhdGlvblByb3ZpZGVyXCJdO2FuZ3VsYXIubW9kdWxlKCdBcHAnLCBbJ25nUm91dGUnXSk7XG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgLndoZW4oJy8nLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2hvbWUuaHRtbCcsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLndoZW4oJy9sb2dpbicsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9naW4uaHRtbCcsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5vdGhlcndpc2Uoe1xuICAgICAgICAgICAgcmVkaXJlY3RUbzogJy8nXG4gICAgICAgIH0pO1xuXG4gICAgLy8gdXNlIHRoZSBIVE1MNSBIaXN0b3J5IEFQSVxuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIH0pO1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJylcbi5jb25maWcoY29uZmlnKTtcblxuZnVuY3Rpb24gQXBwbGljYXRpb25Db250cm9sbGVyKCRodHRwLCAkcSkge1xuXHR2YXIgX3RoaXMgPSB0aGlzOyBcblxuXHRfdGhpcy5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRodHRwLmdldCgnL3Rlc3QnKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0X3RoaXMudGVzdFJlcXVlc3QgPSByZXMuZGF0YTtcblx0XHR9KTtcblx0fTtcblxuXHRfdGhpcy5yZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy90ZXN0Jyk7XG5cdH07XG5cblx0X3RoaXMubW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLm1vZGFsU2hvd24gPSAhX3RoaXMubW9kYWxTaG93bjtcblx0fTtcblxuXHRfdGhpcy5lcnJvck1vZGFsU2hvd24gPSBmYWxzZTtcblx0X3RoaXMudG9nZ2xlRXJyb3JNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLmVycm9yTW9kYWxTaG93biA9ICFfdGhpcy5lcnJvck1vZGFsU2hvd247XG5cdH07XG5cblx0X3RoaXMuc2VuZEVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0dmFyIGVycm9yID0ge1xuXHRcdFx0XHRtZXNzYWdlOiBcIkVycm9yISBZb3UgZGlkIHNvbWV0aGluZyB0aGF0IHdvbid0IHdvcmsuIFRyeSBhZ2Fpbiwgb3IgY29udGFjdCBzb21lb25lIVwiXG5cdFx0XHR9O1xuXHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHR9KTtcblx0fTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25Db250cm9sbGVyJywgWyckaHR0cCcsICckcScsIEFwcGxpY2F0aW9uQ29udHJvbGxlcl0pO1xuXG5mdW5jdGlvbiBNb2RhbCgkcSwgJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy90ZW1wbGF0ZXMvbW9kYWwuaHRtbCcsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB0aXRsZTogJ0AnLFxuICAgICAgICAgICAgYWN0aW9uOiAnJicsXG4gICAgICAgICAgICBhY3Rpb25UZXh0OiAnQCcsXG4gICAgICAgICAgICBzaG93OiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5mYWRlSW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlSW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVPdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVPdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyAmJiAnYWN0aW9uJyBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHNjb3BlLmFjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jbGVhckJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSByZXMuY2xlYXJCaW5kaW5ncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY2xlYXJCaW5kaW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gcmVzLmNsZWFyQmluZGluZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckZsYXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JGbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJylcbiAgICAuZGlyZWN0aXZlKCdtb2RhbCcsIFsnJHEnLCAnJHRpbWVvdXQnLCBNb2RhbF0pO1xuXG5cbmZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3IoJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW47XG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKS5mYWN0b3J5KCdBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yJywgWyckd2luZG93JywgQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcl0pO1xuYW5ndWxhci5tb2R1bGUoJ0FwcCcpLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcicpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ0FwcCcsIFsnbmdSb3V0ZSddKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
