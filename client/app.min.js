function config(n,e){n.when("/",{templateUrl:"views/home.html",resolve:{}}).when("/login",{templateUrl:"views/login.html",resolve:{}}).otherwise({redirectTo:"/"}),e.html5Mode({enabled:!0,requireBase:!1})}function Modal(n,e){return{restrict:"EA",templateUrl:"views/templates/modal.html",scope:{title:"@",action:"&",actionText:"@",show:"="},transclude:!0,link:function(o,t,r){function i(){o.clearBindings=function(){},o.error=!1,o.fadeIn=!0,e(function(){o.fadeIn=!1},100)}i(),o.close=function(){return n(function(n,t){o.clearBindings(),o.error=!1,o.fadeOut=!0,e(function(){o.show=!1,o.fadeOut=!1},100)})},o.submit=function(){if(o.error=!1,o.errorMessage=null,"function"==typeof o.action&&"action"in r){var n=o.action();n&&"function"==typeof n.then?n.then(function(n){n.clearBindings?o.clearBindings=n.clearBindings:null,o.close()},function(n){n.clearBindings?o.clearBindings=n.clearBindings:null,o.errorFlash=!0,e(function(){o.errorFlash=!1,o.error=!0,o.errorMessage=n.message},200)}):o.close()}else o.close()}}}}function ApplicationController(n,e){var o=this;o.sendRequest=function(){n.get("/test").then(function(n){o.testRequest=n.data})},o.requestService=function(){return n.get("/test")},o.modalShown=!1,o.toggleModal=function(){o.modalShown=!o.modalShown},o.errorModalShown=!1,o.toggleErrorModal=function(){o.errorModalShown=!o.errorModalShown},o.sendError=function(){return e(function(n,e){var o={message:"Error! You did something that won't work. Try again, or contact someone!"};e(o)})}}function AuthenticationInterceptor(n){return{request:function(e){var o=n.localStorage.token;return o&&(e.headers["x-access-token"]=o),e}}}config.$inject=["$routeProvider","$locationProvider"],angular.module("App",["ngRoute"]),angular.module("App").config(config),angular.module("App").directive("modal",["$q","$timeout",Modal]),angular.module("App").controller("ApplicationController",["$http","$q",ApplicationController]),angular.module("App").factory("AuthenticationInterceptor",["$window",AuthenticationInterceptor]),angular.module("App").config(["$httpProvider",function(n){n.interceptors.push("AuthenticationInterceptor")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyIsImRpcmVjdGl2ZXMvbW9kYWwuanMiLCJjb250cm9sbGVycy9hcHBsaWNhdGlvbi1jb250cm9sbGVyLmpzIiwic2VydmljZXMvYXV0aGVudGljYXRpb24taW50ZXJjZXB0b3IuanMiLCJhcHAubWluLmpzIiwibW9kdWxlLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsImVuYWJsZWQiLCJyZXF1aXJlQmFzZSIsIk1vZGFsIiwiJHEiLCIkdGltZW91dCIsInJlc3RyaWN0Iiwic2NvcGUiLCJ0aXRsZSIsImFjdGlvbiIsImFjdGlvblRleHQiLCJzaG93IiwidHJhbnNjbHVkZSIsImxpbmsiLCJlbGVtIiwiYXR0cnMiLCJpbml0IiwiY2xlYXJCaW5kaW5ncyIsImVycm9yIiwiZmFkZUluIiwiY2xvc2UiLCJyZWplY3QiLCJmYWRlT3V0Iiwic3VibWl0IiwiZXJyb3JNZXNzYWdlIiwicHJvbWlzZSIsInRoZW4iLCJyZXMiLCJlcnIiLCJlcnJvckZsYXNoIiwibWVzc2FnZSIsIkFwcGxpY2F0aW9uQ29udHJvbGxlciIsIiRodHRwIiwiX3RoaXMiLCJ0aGlzIiwic2VuZFJlcXVlc3QiLCJnZXQiLCJ0ZXN0UmVxdWVzdCIsImRhdGEiLCJyZXF1ZXN0U2VydmljZSIsIm1vZGFsU2hvd24iLCJ0b2dnbGVNb2RhbCIsImVycm9yTW9kYWxTaG93biIsInRvZ2dsZUVycm9yTW9kYWwiLCJzZW5kRXJyb3IiLCJBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yIiwiJHdpbmRvdyIsInJlcXVlc3QiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImhlYWRlcnMiLCIkaW5qZWN0IiwiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsImNvbnRyb2xsZXIiLCJmYWN0b3J5IiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLFFBQUFDLEVBQUFDLEdBQ0FELEVBQ0FFLEtBQUEsS0FDQUMsWUFBQSxrQkFDQUMsYUFJQUYsS0FBQSxVQUNBQyxZQUFBLG1CQUNBQyxhQUlBQyxXQUNBQyxXQUFBLE1BSUFMLEVBQUFNLFdBQ0FDLFNBQUEsRUFDQUMsYUFBQSxJQ3JCQSxRQUFBQyxPQUFBQyxFQUFBQyxHQUNBLE9BQ0FDLFNBQUEsS0FDQVYsWUFBQSw2QkFDQVcsT0FDQUMsTUFBQSxJQUNBQyxPQUFBLElBQ0FDLFdBQUEsSUFDQUMsS0FBQSxLQUVBQyxZQUFBLEVBQ0FDLEtBQUEsU0FBQU4sRUFBQU8sRUFBQUMsR0FDQSxRQUFBQyxLQUNBVCxFQUFBVSxjQUFBLGFBQ0FWLEVBQUFXLE9BQUEsRUFDQVgsRUFBQVksUUFBQSxFQUNBZCxFQUFBLFdBQ0FFLEVBQUFZLFFBQUEsR0FDQSxLQUdBSCxJQUVBVCxFQUFBYSxNQUFBLFdBQ0EsTUFBQWhCLEdBQUEsU0FBQVAsRUFBQXdCLEdBQ0FkLEVBQUFVLGdCQUNBVixFQUFBVyxPQUFBLEVBQ0FYLEVBQUFlLFNBQUEsRUFDQWpCLEVBQUEsV0FDQUUsRUFBQUksTUFBQSxFQUNBSixFQUFBZSxTQUFBLEdBQ0EsUUFJQWYsRUFBQWdCLE9BQUEsV0FHQSxHQUZBaEIsRUFBQVcsT0FBQSxFQUNBWCxFQUFBaUIsYUFBQSxLQUNBLGtCQUFBakIsR0FBQUUsUUFBQSxVQUFBTSxHQUFBLENBQ0EsR0FBQVUsR0FBQWxCLEVBQUFFLFFBQ0FnQixJQUFBLGtCQUFBQSxHQUFBQyxLQUNBRCxFQUFBQyxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFWLGNBQUFWLEVBQUFVLGNBQUFVLEVBQUFWLGNBQUEsS0FDQVYsRUFBQWEsU0FDQSxTQUFBUSxHQUNBQSxFQUFBWCxjQUFBVixFQUFBVSxjQUFBVyxFQUFBWCxjQUFBLEtBQ0FWLEVBQUFzQixZQUFBLEVBQ0F4QixFQUFBLFdBQ0FFLEVBQUFzQixZQUFBLEVBQ0F0QixFQUFBVyxPQUFBLEVBQ0FYLEVBQUFpQixhQUFBSSxFQUFBRSxTQUNBLE9BR0F2QixFQUFBYSxZQUdBYixHQUFBYSxXQ3pEQSxRQUFBVyx1QkFBQUMsRUFBQTVCLEdBQ0EsR0FBQTZCLEdBQUFDLElBRUFELEdBQUFFLFlBQUEsV0FDQUgsRUFBQUksSUFBQSxTQUFBVixLQUFBLFNBQUFDLEdBQ0FNLEVBQUFJLFlBQUFWLEVBQUFXLFFBSUFMLEVBQUFNLGVBQUEsV0FDQSxNQUFBUCxHQUFBSSxJQUFBLFVBR0FILEVBQUFPLFlBQUEsRUFDQVAsRUFBQVEsWUFBQSxXQUNBUixFQUFBTyxZQUFBUCxFQUFBTyxZQUdBUCxFQUFBUyxpQkFBQSxFQUNBVCxFQUFBVSxpQkFBQSxXQUNBVixFQUFBUyxpQkFBQVQsRUFBQVMsaUJBR0FULEVBQUFXLFVBQUEsV0FDQSxNQUFBeEMsR0FBQSxTQUFBUCxFQUFBd0IsR0FDQSxHQUFBSCxJQUNBWSxRQUFBLDJFQUVBVCxHQUFBSCxNQzVCQSxRQUFBMkIsMkJBQUFDLEdBQ0EsT0FDQUMsUUFBQSxTQUFBdkQsR0FDQSxHQUFBd0QsR0FBQUYsRUFBQUcsYUFBQSxLQUlBLE9BSEFELEtBQ0F4RCxFQUFBMEQsUUFBQSxrQkFBQUYsR0FFQXhELElDTkFBLE9BQU8yRCxTQUFXLGlCQUFrQixxQkNEcENDLFFBQUFDLE9BQUEsT0FBQSxZTHlCQUQsUUFBQUMsT0FBQSxPQUNBN0QsT0FBQUEsUUNzQ0E0RCxRQUFBQyxPQUFBLE9BQ0FDLFVBQUEsU0FBQSxLQUFBLFdBQUFuRCxRQ2hDQWlELFFBQUFDLE9BQUEsT0FDQUUsV0FBQSx5QkFBQSxRQUFBLEtBQUF4Qix3QkN0QkFxQixRQUFBQyxPQUFBLE9BQUFHLFFBQUEsNkJBQUEsVUFBQVgsNEJBQ0FPLFFBQUFDLE9BQUEsT0FBQTdELFFBQUEsZ0JBQUEsU0FBQWlFLEdBQ0FBLEVBQUFDLGFBQUFDLEtBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvaG9tZS5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgfSk7XG5cbiAgICAvLyB1c2UgdGhlIEhUTUw1IEhpc3RvcnkgQVBJXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZnVuY3Rpb24gTW9kYWwoJHEsICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvdGVtcGxhdGVzL21vZGFsLmh0bWwnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgdGl0bGU6ICdAJyxcbiAgICAgICAgICAgIGFjdGlvbjogJyYnLFxuICAgICAgICAgICAgYWN0aW9uVGV4dDogJ0AnLFxuICAgICAgICAgICAgc2hvdzogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZmFkZUluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZUluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncygpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlT3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlT3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yTWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5hY3Rpb24gPT09ICdmdW5jdGlvbicgJiYgJ2FjdGlvbicgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBzY29wZS5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5jbGVhckJpbmRpbmdzID8gc2NvcGUuY2xlYXJCaW5kaW5ncyA9IHJlcy5jbGVhckJpbmRpbmdzIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLmNsZWFyQmluZGluZ3MgPyBzY29wZS5jbGVhckJpbmRpbmdzID0gZXJyLmNsZWFyQmluZGluZ3MgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yRmxhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckZsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuICAgIC5kaXJlY3RpdmUoJ21vZGFsJywgWyckcScsICckdGltZW91dCcsIE1vZGFsXSk7XG4iLCJmdW5jdGlvbiBBcHBsaWNhdGlvbkNvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG5cdHZhciBfdGhpcyA9IHRoaXM7IFxuXG5cdF90aGlzLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0JGh0dHAuZ2V0KCcvdGVzdCcpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRfdGhpcy50ZXN0UmVxdWVzdCA9IHJlcy5kYXRhO1xuXHRcdH0pO1xuXHR9XG5cblx0X3RoaXMucmVxdWVzdFNlcnZpY2UgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvdGVzdCcpO1xuXHR9XG5cblx0X3RoaXMubW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLm1vZGFsU2hvd24gPSAhX3RoaXMubW9kYWxTaG93bjtcblx0fVxuXG5cdF90aGlzLmVycm9yTW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVFcnJvck1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0X3RoaXMuZXJyb3JNb2RhbFNob3duID0gIV90aGlzLmVycm9yTW9kYWxTaG93bjtcblx0fVxuXG5cdF90aGlzLnNlbmRFcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdHZhciBlcnJvciA9IHtcblx0XHRcdFx0bWVzc2FnZTogXCJFcnJvciEgWW91IGRpZCBzb21ldGhpbmcgdGhhdCB3b24ndCB3b3JrLiBUcnkgYWdhaW4sIG9yIGNvbnRhY3Qgc29tZW9uZSFcIlxuXHRcdFx0fTtcblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0fSk7XG5cdH1cbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25Db250cm9sbGVyJywgWyckaHR0cCcsICckcScsIEFwcGxpY2F0aW9uQ29udHJvbGxlcl0pOyIsImZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3IoJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3Rva2VuJ107XG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKS5mYWN0b3J5KCdBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yJywgWyckd2luZG93JywgQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcl0pO1xuYW5ndWxhci5tb2R1bGUoJ0FwcCcpLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcicpO1xufV0pO1xuIiwiXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCIsIFwiJGxvY2F0aW9uUHJvdmlkZXJcIl07YW5ndWxhci5tb2R1bGUoJ0FwcCcsIFsnbmdSb3V0ZSddKTtcbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvaG9tZS5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgfSk7XG5cbiAgICAvLyB1c2UgdGhlIEhUTUw1IEhpc3RvcnkgQVBJXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuLmNvbmZpZyhjb25maWcpO1xuXG5mdW5jdGlvbiBNb2RhbCgkcSwgJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy90ZW1wbGF0ZXMvbW9kYWwuaHRtbCcsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB0aXRsZTogJ0AnLFxuICAgICAgICAgICAgYWN0aW9uOiAnJicsXG4gICAgICAgICAgICBhY3Rpb25UZXh0OiAnQCcsXG4gICAgICAgICAgICBzaG93OiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5mYWRlSW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlSW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVPdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVPdXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyAmJiAnYWN0aW9uJyBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHNjb3BlLmFjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNsZWFyQmluZGluZ3MgPyBzY29wZS5jbGVhckJpbmRpbmdzID0gcmVzLmNsZWFyQmluZGluZ3MgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIuY2xlYXJCaW5kaW5ncyA/IHNjb3BlLmNsZWFyQmluZGluZ3MgPSBlcnIuY2xlYXJCaW5kaW5ncyA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JGbGFzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yRmxhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnbW9kYWwnLCBbJyRxJywgJyR0aW1lb3V0JywgTW9kYWxdKTtcblxuZnVuY3Rpb24gQXBwbGljYXRpb25Db250cm9sbGVyKCRodHRwLCAkcSkge1xuXHR2YXIgX3RoaXMgPSB0aGlzOyBcblxuXHRfdGhpcy5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRodHRwLmdldCgnL3Rlc3QnKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0X3RoaXMudGVzdFJlcXVlc3QgPSByZXMuZGF0YTtcblx0XHR9KTtcblx0fVxuXG5cdF90aGlzLnJlcXVlc3RTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL3Rlc3QnKTtcblx0fVxuXG5cdF90aGlzLm1vZGFsU2hvd24gPSBmYWxzZTtcblx0X3RoaXMudG9nZ2xlTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHRfdGhpcy5tb2RhbFNob3duID0gIV90aGlzLm1vZGFsU2hvd247XG5cdH1cblxuXHRfdGhpcy5lcnJvck1vZGFsU2hvd24gPSBmYWxzZTtcblx0X3RoaXMudG9nZ2xlRXJyb3JNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdF90aGlzLmVycm9yTW9kYWxTaG93biA9ICFfdGhpcy5lcnJvck1vZGFsU2hvd247XG5cdH1cblxuXHRfdGhpcy5zZW5kRXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHR2YXIgZXJyb3IgPSB7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiRXJyb3IhIFlvdSBkaWQgc29tZXRoaW5nIHRoYXQgd29uJ3Qgd29yay4gVHJ5IGFnYWluLCBvciBjb250YWN0IHNvbWVvbmUhXCJcblx0XHRcdH07XG5cdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdH0pO1xuXHR9XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ29udHJvbGxlcicsIFsnJGh0dHAnLCAnJHEnLCBBcHBsaWNhdGlvbkNvbnRyb2xsZXJdKTtcblxuXG5mdW5jdGlvbiBBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlWyd0b2tlbiddO1xuICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJykuZmFjdG9yeSgnQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcicsIFsnJHdpbmRvdycsIEF1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3JdKTtcbmFuZ3VsYXIubW9kdWxlKCdBcHAnKS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3InKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdBcHAnLCBbJ25nUm91dGUnXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
