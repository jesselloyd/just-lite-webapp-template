function config(e,n){e.when("/",{templateUrl:"views/home.html",resolve:{}}).when("/login",{templateUrl:"views/login.html",resolve:{}}).otherwise({redirectTo:"/"}),n.html5Mode({enabled:!0,requireBase:!1})}function ApplicationController(e,n){var o=this;o.sendRequest=function(){e.get("/test").then(function(e){o.testRequest=e.data})},o.requestService=function(){return e.get("/test")},o.modalShown=!1,o.toggleModal=function(){o.modalShown=!o.modalShown},o.errorModalShown=!1,o.toggleErrorModal=function(){o.errorModalShown=!o.errorModalShown},o.sendError=function(){return n(function(e,n){var o={message:"Error! You did something that won't work. Try again, or contact someone!"};n(o)})}}function Modal(e,n){return{restrict:"EA",templateUrl:"views/templates/modal.html",scope:{title:"@",action:"&",actionText:"@",show:"="},transclude:!0,link:function(o,t,r){function i(){o.clearBindings=function(){},o.error=!1,o.fadeIn=!0,n(function(){o.fadeIn=!1},100)}i(),o.close=function(){return e(function(e,t){o.clearBindings(),o.error=!1,o.fadeOut=!0,n(function(){o.show=!1,o.fadeOut=!1},100)})},o.submit=function(){if(o.error=!1,o.errorMessage=null,"function"==typeof o.action&&"action"in r){var e=o.action();e&&"function"==typeof e.then?e.then(function(e){e.clearBindings&&(o.clearBindings=e.clearBindings),o.close()},function(e){e.clearBindings&&(o.clearBindings=res.clearBindings),o.errorFlash=!0,n(function(){o.errorFlash=!1,o.error=!0,o.errorMessage=e.message},200)}):o.close()}else o.close()}}}}function AuthenticationInterceptor(e){return{request:function(n){var o=e.localStorage.token;return o&&(n.headers["x-access-token"]=o),n}}}config.$inject=["$routeProvider","$locationProvider"],angular.module("App",["ngRoute"]),angular.module("App").config(config),angular.module("App").controller("ApplicationController",["$http","$q",ApplicationController]),angular.module("App").directive("modal",["$q","$timeout",Modal]),angular.module("App").factory("AuthenticationInterceptor",["$window",AuthenticationInterceptor]),angular.module("App").config(["$httpProvider",function(e){e.interceptors.push("AuthenticationInterceptor")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyIsImNvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmVzL21vZGFsLmpzIiwic2VydmljZXMvYXV0aGVudGljYXRpb24taW50ZXJjZXB0b3IuanMiLCJhcHAubWluLmpzIiwibW9kdWxlLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsImVuYWJsZWQiLCJyZXF1aXJlQmFzZSIsIkFwcGxpY2F0aW9uQ29udHJvbGxlciIsIiRodHRwIiwiJHEiLCJfdGhpcyIsInRoaXMiLCJzZW5kUmVxdWVzdCIsImdldCIsInRoZW4iLCJyZXMiLCJ0ZXN0UmVxdWVzdCIsImRhdGEiLCJyZXF1ZXN0U2VydmljZSIsIm1vZGFsU2hvd24iLCJ0b2dnbGVNb2RhbCIsImVycm9yTW9kYWxTaG93biIsInRvZ2dsZUVycm9yTW9kYWwiLCJzZW5kRXJyb3IiLCJyZWplY3QiLCJlcnJvciIsIm1lc3NhZ2UiLCJNb2RhbCIsIiR0aW1lb3V0IiwicmVzdHJpY3QiLCJzY29wZSIsInRpdGxlIiwiYWN0aW9uIiwiYWN0aW9uVGV4dCIsInNob3ciLCJ0cmFuc2NsdWRlIiwibGluayIsImVsZW0iLCJhdHRycyIsImluaXQiLCJjbGVhckJpbmRpbmdzIiwiZmFkZUluIiwiY2xvc2UiLCJmYWRlT3V0Iiwic3VibWl0IiwiZXJyb3JNZXNzYWdlIiwicHJvbWlzZSIsImVyciIsImVycm9yRmxhc2giLCJBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yIiwiJHdpbmRvdyIsInJlcXVlc3QiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImhlYWRlcnMiLCIkaW5qZWN0IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCJkaXJlY3RpdmUiLCJmYWN0b3J5IiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLFFBQUFDLEVBQUFDLEdBQ0FELEVBQ0FFLEtBQUEsS0FDQUMsWUFBQSxrQkFDQUMsYUFJQUYsS0FBQSxVQUNBQyxZQUFBLG1CQUNBQyxhQUlBQyxXQUNBQyxXQUFBLE1BSUFMLEVBQUFNLFdBQ0FDLFNBQUEsRUFDQUMsYUFBQSxJQ3JCQSxRQUFBQyx1QkFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBRSxZQUFBLFdBQ0FKLEVBQUFLLElBQUEsU0FBQUMsS0FBQSxTQUFBQyxHQUNBTCxFQUFBTSxZQUFBRCxFQUFBRSxRQUlBUCxFQUFBUSxlQUFBLFdBQ0EsTUFBQVYsR0FBQUssSUFBQSxVQUdBSCxFQUFBUyxZQUFBLEVBQ0FULEVBQUFVLFlBQUEsV0FDQVYsRUFBQVMsWUFBQVQsRUFBQVMsWUFHQVQsRUFBQVcsaUJBQUEsRUFDQVgsRUFBQVksaUJBQUEsV0FDQVosRUFBQVcsaUJBQUFYLEVBQUFXLGlCQUdBWCxFQUFBYSxVQUFBLFdBQ0EsTUFBQWQsR0FBQSxTQUFBUixFQUFBdUIsR0FDQSxHQUFBQyxJQUNBQyxRQUFBLDJFQUVBRixHQUFBQyxNQzVCQSxRQUFBRSxPQUFBbEIsRUFBQW1CLEdBQ0EsT0FDQUMsU0FBQSxLQUNBN0IsWUFBQSw2QkFDQThCLE9BQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxXQUFBLElBQ0FDLEtBQUEsS0FFQUMsWUFBQSxFQUNBQyxLQUFBLFNBQUFOLEVBQUFPLEVBQUFDLEdBQ0EsUUFBQUMsS0FDQVQsRUFBQVUsY0FBQSxhQUNBVixFQUFBTCxPQUFBLEVBQ0FLLEVBQUFXLFFBQUEsRUFDQWIsRUFBQSxXQUNBRSxFQUFBVyxRQUFBLEdBQ0EsS0FHQUYsSUFFQVQsRUFBQVksTUFBQSxXQUNBLE1BQUFqQyxHQUFBLFNBQUFSLEVBQUF1QixHQUNBTSxFQUFBVSxnQkFDQVYsRUFBQUwsT0FBQSxFQUNBSyxFQUFBYSxTQUFBLEVBQ0FmLEVBQUEsV0FDQUUsRUFBQUksTUFBQSxFQUNBSixFQUFBYSxTQUFBLEdBQ0EsUUFJQWIsRUFBQWMsT0FBQSxXQUdBLEdBRkFkLEVBQUFMLE9BQUEsRUFDQUssRUFBQWUsYUFBQSxLQUNBLGtCQUFBZixHQUFBRSxRQUFBLFVBQUFNLEdBQUEsQ0FDQSxHQUFBUSxHQUFBaEIsRUFBQUUsUUFDQWMsSUFBQSxrQkFBQUEsR0FBQWhDLEtBQ0FnQyxFQUFBaEMsS0FBQSxTQUFBQyxHQUNBQSxFQUFBeUIsZ0JBQ0FWLEVBQUFVLGNBQUF6QixFQUFBeUIsZUFFQVYsRUFBQVksU0FDQSxTQUFBSyxHQUNBQSxFQUFBUCxnQkFDQVYsRUFBQVUsY0FBQXpCLElBQUF5QixlQUVBVixFQUFBa0IsWUFBQSxFQUNBcEIsRUFBQSxXQUNBRSxFQUFBa0IsWUFBQSxFQUNBbEIsRUFBQUwsT0FBQSxFQUNBSyxFQUFBZSxhQUFBRSxFQUFBckIsU0FDQSxPQUdBSSxFQUFBWSxZQUdBWixHQUFBWSxXQzdEQSxRQUFBTywyQkFBQUMsR0FDQSxPQUNBQyxRQUFBLFNBQUF2RCxHQUNBLEdBQUF3RCxHQUFBRixFQUFBRyxhQUFBRCxLQUlBLE9BSEFBLEtBQ0F4RCxFQUFBMEQsUUFBQSxrQkFBQUYsR0FFQXhELElDTkFBLE9BQU8yRCxTQUFXLGlCQUFrQixxQkNEcENDLFFBQUFDLE9BQUEsT0FBQSxZTHlCQUQsUUFBQUMsT0FBQSxPQUNBN0QsT0FBQUEsUUNPQTRELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSx5QkFBQSxRQUFBLEtBQUFuRCx3QkNrQ0FpRCxRQUFBQyxPQUFBLE9BQ0FFLFVBQUEsU0FBQSxLQUFBLFdBQUFoQyxRQ3pEQTZCLFFBQUFDLE9BQUEsT0FBQUcsUUFBQSw2QkFBQSxVQUFBWCw0QkFDQU8sUUFBQUMsT0FBQSxPQUFBN0QsUUFBQSxnQkFBQSxTQUFBaUUsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9ob21lLmh0bWwnLFxuICAgICAgICAgICAgcmVzb2x2ZToge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvbG9naW4nLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvJ1xuICAgICAgICB9KTtcblxuICAgIC8vIHVzZSB0aGUgSFRNTDUgSGlzdG9yeSBBUElcbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICByZXF1aXJlQmFzZTogZmFsc2VcbiAgICB9KTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJmdW5jdGlvbiBBcHBsaWNhdGlvbkNvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG5cdHZhciBfdGhpcyA9IHRoaXM7IFxuXG5cdF90aGlzLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0JGh0dHAuZ2V0KCcvdGVzdCcpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRfdGhpcy50ZXN0UmVxdWVzdCA9IHJlcy5kYXRhO1xuXHRcdH0pO1xuXHR9O1xuXG5cdF90aGlzLnJlcXVlc3RTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL3Rlc3QnKTtcblx0fTtcblxuXHRfdGhpcy5tb2RhbFNob3duID0gZmFsc2U7XG5cdF90aGlzLnRvZ2dsZU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0X3RoaXMubW9kYWxTaG93biA9ICFfdGhpcy5tb2RhbFNob3duO1xuXHR9O1xuXG5cdF90aGlzLmVycm9yTW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVFcnJvck1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0X3RoaXMuZXJyb3JNb2RhbFNob3duID0gIV90aGlzLmVycm9yTW9kYWxTaG93bjtcblx0fTtcblxuXHRfdGhpcy5zZW5kRXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHR2YXIgZXJyb3IgPSB7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiRXJyb3IhIFlvdSBkaWQgc29tZXRoaW5nIHRoYXQgd29uJ3Qgd29yay4gVHJ5IGFnYWluLCBvciBjb250YWN0IHNvbWVvbmUhXCJcblx0XHRcdH07XG5cdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdH0pO1xuXHR9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkNvbnRyb2xsZXInLCBbJyRodHRwJywgJyRxJywgQXBwbGljYXRpb25Db250cm9sbGVyXSk7IiwiZnVuY3Rpb24gTW9kYWwoJHEsICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvdGVtcGxhdGVzL21vZGFsLmh0bWwnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgdGl0bGU6ICdAJyxcbiAgICAgICAgICAgIGFjdGlvbjogJyYnLFxuICAgICAgICAgICAgYWN0aW9uVGV4dDogJ0AnLFxuICAgICAgICAgICAgc2hvdzogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZmFkZUluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZUluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncygpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlT3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5mYWRlT3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yTWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY29wZS5hY3Rpb24gPT09ICdmdW5jdGlvbicgJiYgJ2FjdGlvbicgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBzY29wZS5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY2xlYXJCaW5kaW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gcmVzLmNsZWFyQmluZGluZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNsZWFyQmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IHJlcy5jbGVhckJpbmRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JGbGFzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yRmxhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnbW9kYWwnLCBbJyRxJywgJyR0aW1lb3V0JywgTW9kYWxdKTtcbiIsImZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3IoJHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW47XG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKS5mYWN0b3J5KCdBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yJywgWyckd2luZG93JywgQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcl0pO1xuYW5ndWxhci5tb2R1bGUoJ0FwcCcpLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcicpO1xufV0pO1xuIiwiXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCIsIFwiJGxvY2F0aW9uUHJvdmlkZXJcIl07YW5ndWxhci5tb2R1bGUoJ0FwcCcsIFsnbmdSb3V0ZSddKTtcbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvaG9tZS5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpbi5odG1sJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgfSk7XG5cbiAgICAvLyB1c2UgdGhlIEhUTUw1IEhpc3RvcnkgQVBJXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgfSk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuLmNvbmZpZyhjb25maWcpO1xuXG5mdW5jdGlvbiBBcHBsaWNhdGlvbkNvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG5cdHZhciBfdGhpcyA9IHRoaXM7IFxuXG5cdF90aGlzLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0JGh0dHAuZ2V0KCcvdGVzdCcpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG5cdFx0XHRfdGhpcy50ZXN0UmVxdWVzdCA9IHJlcy5kYXRhO1xuXHRcdH0pO1xuXHR9O1xuXG5cdF90aGlzLnJlcXVlc3RTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL3Rlc3QnKTtcblx0fTtcblxuXHRfdGhpcy5tb2RhbFNob3duID0gZmFsc2U7XG5cdF90aGlzLnRvZ2dsZU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0X3RoaXMubW9kYWxTaG93biA9ICFfdGhpcy5tb2RhbFNob3duO1xuXHR9O1xuXG5cdF90aGlzLmVycm9yTW9kYWxTaG93biA9IGZhbHNlO1xuXHRfdGhpcy50b2dnbGVFcnJvck1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0X3RoaXMuZXJyb3JNb2RhbFNob3duID0gIV90aGlzLmVycm9yTW9kYWxTaG93bjtcblx0fTtcblxuXHRfdGhpcy5zZW5kRXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHR2YXIgZXJyb3IgPSB7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiRXJyb3IhIFlvdSBkaWQgc29tZXRoaW5nIHRoYXQgd29uJ3Qgd29yay4gVHJ5IGFnYWluLCBvciBjb250YWN0IHNvbWVvbmUhXCJcblx0XHRcdH07XG5cdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdH0pO1xuXHR9O1xufVxuXG5hbmd1bGFyLm1vZHVsZSgnQXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkNvbnRyb2xsZXInLCBbJyRodHRwJywgJyRxJywgQXBwbGljYXRpb25Db250cm9sbGVyXSk7XG5cbmZ1bmN0aW9uIE1vZGFsKCRxLCAkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3RlbXBsYXRlcy9tb2RhbC5odG1sJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnQCcsXG4gICAgICAgICAgICBhY3Rpb246ICcmJyxcbiAgICAgICAgICAgIGFjdGlvblRleHQ6ICdAJyxcbiAgICAgICAgICAgIHNob3c6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5jbGVhckJpbmRpbmdzID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVJbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmZhZGVJbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluaXQoKTtcblxuICAgICAgICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZU91dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZmFkZU91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5lcnJvck1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuYWN0aW9uID09PSAnZnVuY3Rpb24nICYmICdhY3Rpb24nIGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gc2NvcGUuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNsZWFyQmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xlYXJCaW5kaW5ncyA9IHJlcy5jbGVhckJpbmRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5jbGVhckJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsZWFyQmluZGluZ3MgPSByZXMuY2xlYXJCaW5kaW5ncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yRmxhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckZsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdBcHAnKVxuICAgIC5kaXJlY3RpdmUoJ21vZGFsJywgWyckcScsICckdGltZW91dCcsIE1vZGFsXSk7XG5cblxuZnVuY3Rpb24gQXV0aGVudGljYXRpb25JbnRlcmNlcHRvcigkd2luZG93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS50b2tlbjtcbiAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuYW5ndWxhci5tb2R1bGUoJ0FwcCcpLmZhY3RvcnkoJ0F1dGhlbnRpY2F0aW9uSW50ZXJjZXB0b3InLCBbJyR3aW5kb3cnLCBBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yXSk7XG5hbmd1bGFyLm1vZHVsZSgnQXBwJykuY29uZmlnKFsnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoZW50aWNhdGlvbkludGVyY2VwdG9yJyk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnQXBwJywgWyduZ1JvdXRlJ10pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
